/**
 * @package   PickMeUp
 * @author    Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @author    Stefan Petre <www.eyecon.ro>
 * @copyright Copyright (c) 2013-2016, Nazar Mokrynskyi
 * @copyright Copyright (c) 2008-2009, Stefan Petre
 * @license   MIT License, see license.txt
 */
(function(x){function u(){for(var m=new Date(this.toString()),n=28,l=m.getMonth();m.getMonth()==l;)++n,m.setDate(n);return n-1}x.addDays=function(m){this.setDate(this.getDate()+m)};x.addMonths=function(m){var n=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+m);this.setDate(Math.min(n,u.apply(this)))};x.addYears=function(m){var n=this.getDate();this.setDate(1);this.setFullYear(this.getFullYear()+m);this.setDate(Math.min(n,u.apply(this)))};x.getDayOfYear=function(){var m=new Date(this.getFullYear(),
this.getMonth(),this.getDate(),0,0,0),n=new Date(this.getFullYear(),0,0,0,0,0);return Math.floor((m-n)/24*36E5)}})(Date.prototype);
(function(x,u){"function"===typeof define&&define.amd?define(u):"object"===typeof exports?module.exports=u():x.pickmeup=u()})(this,function(){function x(a,b,c){c=c||[];if(a instanceof Element)b.apply(b,[a].concat(c));else{var e,d;e=a.length;for(d=0;d<e;++d)b.apply(b,[a[d]].concat(c))}}function u(a){x(a,function(b){b.parentElement.removeChild(b)})}function m(a,b){var c=a;do c=c.parentElement;while(c&&!n(c,b));return c}function n(a,b){return(a.matches||a.webkitMatchesSelector||a.msMatchesSelector).call(a,
b)}function l(a,b){return a&&a.classList.contains(b)}function q(a,b){a.classList.add(b)}function B(a,b){return Array.prototype.slice.call(a.querySelectorAll(b))}function v(a,b,c,e){if(-1!==c.indexOf(" ")){c=c.split(" ");var d=c.length,f;for(f=0;f<d;++f)v(a,b,c[f],e)}else a.__pickmeup.events.push([b,c,e]),b.addEventListener(c,e)}function y(a,b,c,e){var d,f,g;if(-1!==c.indexOf(" "))for(d=c.split(" "),f=d.length,g=0;g<f;++g)y(a,b,d[g],e);else for(d=a.__pickmeup.events,f=d.length,g=0;g<f;++g)b&&b!=d[g][0]||
c&&c!=d[g][1]||e&&e!=d[g][2]||d[g][0].removeEventListener(d[g][1],d[g][2])}function I(a){a=a.getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}}function J(){var a=this.pickmeup,b=a.__pickmeup.options,c=Math.floor(b.calendars/2),e=b.date,d=b.current,f=b.min?new Date(b.min):null,g=b.max?new Date(b.max):null,k,C,p,n,r,t;f&&(f.setDate(1),f.addMonths(1),f.addDays(-1));g&&(g.setDate(1),g.addMonths(1),
g.addDays(-1));u(B(a,".pmu-instance > :not(nav)"));for(var h=0;h<b.calendars;h++){k=new Date(d);z(k);n=B(a,".pmu-instance")[h];l(a,"pmu-view-years")?(k.addYears(12*(h-c)),C=k.getFullYear()-6+" - "+(k.getFullYear()+5)):l(a,"pmu-view-months")?(k.addYears(h-c),C=k.getFullYear()):l(a,"pmu-view-days")&&(k.addMonths(h-c),C=A(k,b.title_format,b.locale));if(!t&&g&&(t=new Date(k),b.select_day?t.addMonths(b.calendars-1):b.select_month?t.addYears(b.calendars-1):t.addYears(12*(b.calendars-1)),t>g)){--h;d.addMonths(-1);
t=void 0;continue}t=new Date(k);if(!r&&(r=new Date(k),r.setDate(1),r.addMonths(1),r.addDays(-1),f&&f>r)){--h;d.addMonths(1);r=void 0;continue}n.querySelector(".pmu-month").textContent=C;p="";var q=function(a){return"range"==b.mode&&a>=(new Date(e[0])).getFullYear()&&a<=(new Date(e[1])).getFullYear()||"multiple"==b.mode&&-1!==e.reduce(function(b,a){b.push((new Date(a)).getFullYear());return b},[]).indexOf(a)||(new Date(e)).getFullYear()==a},m=function(a,c){var d=(new Date(e[0])).getFullYear(),f=(new Date(e[1])).getFullYear(),
k=(new Date(e[0])).getMonth(),g=(new Date(e[1])).getMonth();return"range"==b.mode&&a>d&&a<f||"range"==b.mode&&a==d&&a<f&&c>=k||"range"==b.mode&&a>d&&a==f&&c<=g||"range"==b.mode&&a==d&&a==f&&c>=k&&c<=g||"multiple"==b.mode&&-1!==e.reduce(function(a,b){b=new Date(b);a.push(b.getFullYear()+"-"+b.getMonth());return a},[]).indexOf(a+"-"+c)||(new Date(e)).getFullYear()==a&&(new Date(e)).getMonth()==c};(function(){for(var a=[],c=k.getFullYear()-6,d=(new Date(b.min)).getFullYear(),e=(new Date(b.max)).getFullYear(),
f,g=0;12>g;++g)f={text:c+g,class_name:[]},b.min&&f.text<d||b.max&&f.text>e?f.class_name.push("pmu-disabled"):q(f.text)&&f.class_name.push("pmu-selected"),f.class_name=f.class_name.join(" "),a.push(f);p+=D.body(a,"pmu-years")})();(function(){var a=[],c=k.getFullYear(),d=(new Date(b.min)).getFullYear(),e=(new Date(b.min)).getMonth(),f=(new Date(b.max)).getFullYear(),g=(new Date(b.max)).getMonth(),h,l;for(l=0;12>l;++l)h={text:b.locale.monthsShort[l],class_name:[]},b.min&&(c<d||l<e&&c==d)||b.max&&(c>
f||l>g&&c>=f)?h.class_name.push("pmu-disabled"):m(c,l)&&h.class_name.push("pmu-selected"),h.class_name=h.class_name.join(" "),a.push(h);p+=D.body(a,"pmu-months")})();(function(){var a=[],c=k.getMonth(),d=z(new Date).valueOf(),e,f,g,h,l;(function(){k.setDate(1);var a=(k.getDay()-b.first_day)%7;k.addDays(-(a+(0>a?7:0)))})();for(f=0;42>f;++f)e={text:k.getDate(),class_name:[]},c!=k.getMonth()&&e.class_name.push("pmu-not-in-month"),0==k.getDay()?e.class_name.push("pmu-sunday"):6==k.getDay()&&e.class_name.push("pmu-saturday"),
g=b.render(new Date(k))||{},h=k.valueOf(),l=b.min&&b.min>k||b.max&&b.max<k,g.disabled||l?e.class_name.push("pmu-disabled"):(g.selected||b.date.valueOf()==h||b.date instanceof Array&&b.date.reduce(function(a,b){return a||h===b.valueOf()},!1)||"range"==b.mode&&h>=b.date[0]&&h<=b.date[1])&&e.class_name.push("pmu-selected"),h==d&&e.class_name.push("pmu-today"),g.class_name&&e.class_name.push(g.class_name),e.class_name=e.class_name.join(" "),a.push(e),k.addDays(1);p+=D.body(a,"pmu-days")})();n.insertAdjacentHTML("beforeend",
p)}r.setDate(1);t.setDate(1);t.addMonths(1);t.addDays(-1);c=a.querySelector(".pmu-prev");a=a.querySelector(".pmu-next");c&&(c.style.visibility=b.min&&b.min>=r?"hidden":"visible");a&&(a.style.visibility=b.max&&b.max<=t?"hidden":"visible");b.fill.apply(this)}function w(a,b,c,e){var d;if(a instanceof Date||a instanceof Number)return z(new Date(a));if(!a)return z(new Date);if(a instanceof Array){a=a.slice();for(d=0;d<a.length;++d)a[d]=w(a[d],b,c,e);return a}d=a.split(c);if(1<d.length)return d.forEach(function(a,
d,f){f[d]=w(a.trim(),b,c,e)}),d;d=e.monthsShort.join(")(")+")("+e.months.join(")(");c=new RegExp("[^0-9a-zA-Z("+d+")]+");a=a.split(c);var f=b.split(c),g,k,l,p,n,r=new Date;for(d=0;d<a.length;d++)switch(f[d]){case "b":k=e.monthsShort.indexOf(a[d]);break;case "B":k=e.months.indexOf(a[d]);break;case "d":case "e":g=parseInt(a[d],10);break;case "m":k=parseInt(a[d],10)-1;break;case "Y":case "y":l=parseInt(a[d],10);l+=100<l?0:29>l?2E3:1900;break;case "H":case "I":case "k":case "l":p=parseInt(a[d],10);break;
case "P":case "p":/pm/i.test(a[d])&&12>p?p+=12:/am/i.test(a[d])&&12<=p&&(p-=12);break;case "M":n=parseInt(a[d],10)}g=new Date(void 0===l?r.getFullYear():l,void 0===k?r.getMonth():k,void 0===g?r.getDate():g,void 0===p?r.getHours():p,void 0===n?r.getMinutes():n,0);isNaN(1*g)&&(g=new Date);return z(g)}function z(a){a.setHours(0,0,0,0);return a}function A(a,b,c){var e=a.getMonth(),d=a.getDate(),f=a.getFullYear(),g=a.getDay(),k=a.getHours(),l=12<=k,p=l?k-12:k,n=a.getDayOfYear();0==p&&(p=12);var r=a.getMinutes(),
q=a.getSeconds();b=b.split("");for(var h,m=0;m<b.length;m++){h=b[m];switch(h){case "a":h=c.daysShort[g];break;case "A":h=c.days[g];break;case "b":h=c.monthsShort[e];break;case "B":h=c.months[e];break;case "C":h=1+Math.floor(f/100);break;case "d":h=10>d?"0"+d:d;break;case "e":h=d;break;case "H":h=10>k?"0"+k:k;break;case "I":h=10>p?"0"+p:p;break;case "j":h=100>n?10>n?"00"+n:"0"+n:n;break;case "k":h=k;break;case "l":h=p;break;case "m":h=9>e?"0"+(1+e):1+e;break;case "M":h=10>r?"0"+r:r;break;case "p":case "P":h=
l?"PM":"AM";break;case "s":h=Math.floor(a.getTime()/1E3);break;case "S":h=10>q?"0"+q:q;break;case "u":h=g+1;break;case "w":h=g;break;case "y":h=(""+f).substr(2,2);break;case "Y":h=f}b[m]=h}return b.join("")}function K(a){var b=this.pickmeup.__pickmeup.options,c;z(a);a:{var e;switch(b.mode){case "multiple":e=a.valueOf();for(c=0;c<b.date.length;++c)if(b.date[c].valueOf()===e){b.date.splice(c,1);break a}b.date.push(a);break;case "range":b.lastSel||(b.date[0]=a);a<=b.date[0]?(b.date[1]=b.date[0],b.date[0]=
a):b.date[1]=a;b.lastSel=!b.lastSel;break;default:b.date=a.valueOf()}}a=F(b);n(this,"input")&&(this.value="single"==b.mode?a[0]:a[0].join(b.separator));b.change.apply(this,a);if(!b.flat&&b.hide_on_select&&("range"!=b.mode||!b.lastSel))return b.binded.hide(),!1}function L(a){a=a.target;l(a,"pmu-button")||(a=m(a,".pmu-button"));if(!l(a,"pmu-button")||l(a,"pmu-disabled"))return!1;var b=this.pickmeup.__pickmeup.options,c=m(a,".pmu-instance"),e=c.parentElement,d=B(e,".pmu-instance").indexOf(c);n(a.parentElement,
"nav")?l(a,"pmu-month")?(b.current.addMonths(d-Math.floor(b.calendars/2)),l(e,"pmu-view-years")?(b.current="single"!=b.mode?new Date(b.date[b.date.length-1]):new Date(b.date),b.select_day?(e.classList.remove("pmu-view-years"),q(e,"pmu-view-days")):b.select_month&&(e.classList.remove("pmu-view-years"),q(e,"pmu-view-months"))):l(e,"pmu-view-months")?b.select_year?(e.classList.remove("pmu-view-months"),q(e,"pmu-view-years")):b.select_day&&(e.classList.remove("pmu-view-months"),q(e,"pmu-view-days")):
l(e,"pmu-view-days")&&(b.select_month?(e.classList.remove("pmu-view-days"),q(e,"pmu-view-months")):b.select_year&&(e.classList.remove("pmu-view-days"),q(e,"pmu-view-years")))):l(a,"pmu-prev")?b.binded.prev(!1):b.binded.next(!1):l(e,"pmu-view-years")?(b.current.setFullYear(parseInt(a.textContent,10)),b.select_month?(e.classList.remove("pmu-view-years"),q(e,"pmu-view-months")):b.select_day?(e.classList.remove("pmu-view-years"),q(e,"pmu-view-days")):b.binded.update_date(b.current)):l(e,"pmu-view-months")?
(b.current.setMonth(B(c,".pmu-months .pmu-button").indexOf(a)),b.current.setFullYear(parseInt(c.querySelector(".pmu-month").textContent,10)),b.select_day?(e.classList.remove("pmu-view-months"),q(e,"pmu-view-days")):b.binded.update_date(b.current),b.current.addMonths(Math.floor(b.calendars/2)-d)):(c=parseInt(a.textContent,10),e=new Date(b.current),e.addMonths(d-Math.floor(b.calendars/2)),l(a,"pmu-not-in-month")&&e.addMonths(15<c?-1:1),e.setDate(c),b.binded.update_date(e));b.binded.fill();return!0}
function F(a){var b;if("single"==a.mode)return b=new Date(a.date),[A(b,a.format,a.locale),b];b=[[],[]];a.date.forEach(function(c){c=new Date(c);b[0].push(A(c,a.format,a.locale));b[1].push(c)});return b}function G(a){var b=this.pickmeup;if(a||l(b,"pmu-hidden")){var c=b.__pickmeup.options,e=I(this),d=window.pageXOffset,f=window.pageYOffset,g=document.documentElement.clientWidth,k=document.documentElement.clientHeight,m=e.top,p=e.left;c.binded.fill();n(this,"input")&&((a=this.value)&&c.binded.set_date(a),
v(b,this,"keydown",function(a){9==a.which&&c.binded.hide()}),c.lastSel=!1);c.before_show();if(0!=c.show()&&!c.flat){switch(c.position){case "top":m-=b.offsetHeight;break;case "left":p-=b.offsetWidth;break;case "right":p+=this.offsetWidth;break;case "bottom":m+=this.offsetHeight}m+b.offsetHeight>f+k&&(m=e.top-b.offsetHeight);m<f&&(m=e.top+this.offsetHeight);p+b.offsetWidth>d+g&&(p=e.left-b.offsetWidth);p<d&&(p=e.left+this.offsetWidth);b.style.top=m+"px";b.style.left=p+"px";b.classList.remove("pmu-hidden");
v(b,document.documentElement,c.trigger_event,c.binded.hide);v(b,window,"resize",c.binded.forced_show)}}}function M(){G.call(this,!0)}function N(a){if(!a||!a.target||a.target!=this&&!(this.pickmeup.compareDocumentPosition(a.target)&16)){a=this.pickmeup;var b=a.__pickmeup.options;0!=b.hide()&&(q(a,"pmu-hidden"),y(a,document.documentElement,b.trigger_event,b.binded.hide),y(a,window,"resize",b.binded.forced_show),b.lastSel=!1)}}function O(){var a=this.pickmeup,b=a.__pickmeup.options;y(a,document.documentElement,
b.trigger_event,b.binded.hide);y(a,window,"resize",b.binded.forced_show);b.binded.forced_show()}function P(){var a=this.pickmeup.__pickmeup.options;"single"!=a.mode&&(a.date=[],a.lastSel=!1,a.binded.fill())}function Q(a){"undefined"==typeof a&&(a=!0);var b=this.pickmeup,c=b.__pickmeup.options;l(b,"pmu-view-years")?c.current.addYears(-12):l(b,"pmu-view-months")?c.current.addYears(-1):l(b,"pmu-view-days")&&c.current.addMonths(-1);a&&c.binded.fill()}function R(a){"undefined"==typeof a&&(a=!0);var b=
this.pickmeup,c=b.__pickmeup.options;l(b,"pmu-view-years")?c.current.addYears(12):l(b,"pmu-view-months")?c.current.addYears(1):l(b,"pmu-view-days")&&c.current.addMonths(1);a&&c.binded.fill()}function S(a){var b=this.pickmeup.__pickmeup.options,c=F(b);return"string"===typeof a?(c=c[1],c.constructor==Date?A(c,a,b.locale):c.map(function(c){return A(c,a,b.locale)})):c[a?0:1]}function T(a,b){var c=this.pickmeup.__pickmeup.options,e;if(!(a instanceof Array)||0<a.length)if(c.date=w(a,c.format,c.separator,
c.locale),"single"!=c.mode)for(c.date instanceof Array?(c.date[0]=c.date[0]||w(new Date,c.format,c.separator,c.locale),"range"==c.mode&&(c.date[1]=c.date[1]||w(c.date[0],c.format,c.separator,c.locale))):(c.date=[c.date],"range"==c.mode&&c.date.push(w(c.date[0],c.format,c.separator,c.locale))),e=0;e<c.date.length;++e)c.date[e]=H(c.date[e],c.min,c.max);else c.date instanceof Array&&(c.date=c.date[0]),c.date=H(c.date,c.min,c.max);else c.date=[];if(!c.select_day)if(c.date instanceof Array)for(e=0;e<c.date.length;++e)c.date[e].setDate(1);
else c.date.setDate(1);if("multiple"==c.mode)for(e=0;e<c.date.length;++e)c.date.indexOf(c.date[e])!==e&&(c.date.splice(e,1),--e);b?c.current=w(b,c.format,c.separator,c.locale):(b="single"===c.mode?c.date:c.date[c.date.length-1],c.current=b?new Date(b):new Date);c.current.setDate(1);c.binded.fill();if(n(this,"input")&&!1!==c.default_date){e=F(c);var d=this.value,f="single"==c.mode?e[0]:e[0].join(c.separator);d||c.change.apply(this,e);d!=f&&(this.value=f)}}function U(){y(this.pickmeup);u(this.pickmeup);
delete this.pickmeup.__pickmeup;delete this.pickmeup}function H(a,b,c){return b&&b>a?new Date(b):c&&c<a?new Date(c):a}function E(a,b){"string"==typeof a&&(a=document.querySelector(a));if(!a.pickmeup){var c,e,d={};for(c in E.defaults)d[c]=c in b?b[c]:E.defaults[c];for(c in d)e=a.getAttribute("pmu-"+c),null!==e&&(d[c]=e);"days"!=d.view||d.select_day||(d.view="months");"months"!=d.view||d.select_month||(d.view="years");"years"!=d.view||d.select_year||(d.view="days");"days"!=d.view||d.select_day||(d.view=
"months");d.calendars=Math.max(1,parseInt(d.calendars,10)||1);d.mode=/single|multiple|range/.test(d.mode)?d.mode:"single";d.min&&(d.min=w(d.min,d.format,d.separator,d.locale),d.select_day||d.min.setDate(1));d.max&&(d.max=w(d.max,d.format,d.separator,d.locale),d.select_day||d.max.setDate(1));var f=document.createElement("div");a.pickmeup=f;f.__pickmeup={options:d,events:[]};q(f,"pickmeup");d.class_name&&q(f,d.class_name);var g="";for(c=0;c<d.calendars;c++)e=d.first_day,g+=D.head({prev:d.prev,next:d.next,
day:[d.locale.daysMin[e++%7],d.locale.daysMin[e++%7],d.locale.daysMin[e++%7],d.locale.daysMin[e++%7],d.locale.daysMin[e++%7],d.locale.daysMin[e++%7],d.locale.daysMin[e++%7]]});for(c in d)-1!=["render","change","before_show","show","hide"].indexOf(c)&&(d[c]=d[c].bind(a));d.binded={fill:J.bind(a),update_date:K.bind(a),click:L.bind(a),show:G.bind(a),forced_show:M.bind(a),hide:N.bind(a),update:O.bind(a),clear:P.bind(a),prev:Q.bind(a),next:R.bind(a),get_date:S.bind(a),set_date:T.bind(a),destroy:U.bind(a)};
q(f,V[d.view]);f.innerHTML=g;v(f,f,d.trigger_event,d.binded.click);v(f,f,"onselectstart"in Element.prototype?"selectstart":"mousedown",function(a){a.preventDefault()});d.flat?(q(f,"pmu-flat"),a.appendChild(f)):(q(f,"pmu-hidden"),document.body.appendChild(f),v(f,a,d.trigger_event,function(){d.binded.show()}),v(f,a,"input",d.binded.update),v(f,a,"change",d.binded.update));d.binded.set_date(d.date,d.current)}d=a.pickmeup.__pickmeup.options;return{hide:d.binded.hide,show:d.binded.hide,clear:d.binded.hide,
update:d.binded.hide,prev:d.binded.hide,next:d.binded.hide,destroy:d.binded.hide,get_date:d.binded.get_date,set_date:d.binded.set_date}}var V={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},D={head:function(a){for(var b="",c=0;7>c;++c)b+="<div>"+a.day[c]+"</div>";return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+a.prev+'</div><div class="pmu-month pmu-button"></div><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week">'+b+
"</nav></div>"},body:function(a,b){for(var c="",e=0;e<a.length;++e)c+='<div class="'+a[e].class_name+' pmu-button">'+a[e].text+"</div>";return'<div class="'+b+'">'+c+"</div>"}};E.defaults={current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:!1,
min:null,max:null,render:function(){},change:function(){return!0},before_show:function(){return!0},show:function(){return!0},hide:function(){return!0},fill:function(){return!0},locale:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}};
return E});
